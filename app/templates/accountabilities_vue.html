<!-- accountabilities_vue.html -->

{% extends "vue_table_base.html" %}

{% block content %}
    {{ super() }}
    <div id="app" v-cloak>
        <vue-table 
         api-endpoint="/api_v1/accountability"
        >
            <template v-slot="{ mydata, formErrors, adding }" >

                <div class="form-group mb-3">
                    {{ form.name.label(class="form-label") }}
                    {{ form.name(class="form-control", **{'v-model':'mydata.name'}) }}
                    <div v-if="formErrors.name" class="text-danger" v-text="formErrors.name[0]"></div>
                </div>
                <div class="form-group mb-3">
                    <vue-select-field v-model="mydata.ws_id"
                        items="{{form.ws_id.choices}}"
                        control-label="{{form.ws_id.label.text}}" >
                    </vue-select-field>
                    <div v-if="formErrors.ws_id" class="text-danger" v-text="formErrors.ws_id[0]">
                    </div>
                </div>
                <div class="form-group mb-3">
                    <vue-select-field v-model="mydata.wh_id"
                        items="{{form.wh_id.choices}}"
                        control-label="{{form.wh_id.label.text}}" >
                    </vue-select-field>
                    <div v-if="formErrors.wh_id" class="text-danger" v-text="formErrors.wh_id[0]"></div>
                </div>
                <div class="form-group mb-3">
                    {{ form.period_start.label(class="form-label") }}
                    {{ form.period_start(class="form-control", **{'v-model':'mydata.period_start'}) }}
                    <div v-if="formErrors.period_start" class="text-danger" v-text="formErrors.period_start[0]">
                    </div>
                </div>
                <div class="form-group mb-3">
                    {{ form.period_end.label(class="form-label") }}
                    {{ form.period_end(class="form-control", **{'v-model':'mydata.period_end'}) }}
                    <div v-if="formErrors.period_end" class="text-danger" v-text="formErrors.period_end[0]">
                    </div>
                </div>

            </template>
            
        </vue-table>
    </div>
{% endblock %}
